<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Get Coins</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 20px; text-align: center; }
    .container { max-width: 800px; margin: auto; background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.1); position: relative; }
    .logo { width: 180px; position: absolute; top: 20px; left: 20px; }
    .divider { margin-top: 200px; border-bottom: 1px solid #ddd; margin-bottom: 20px; }
    h1 { color: #333; margin: 0 0 30px 0; }

    /* Packages */
    .package-list { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; }
    .package { border: 2px solid transparent; border-radius: 10px; padding: 15px 20px; width: 160px; cursor: pointer; background: #f9f9f9; transition: 0.3s; text-align: center; }
    .package:hover { background: #eee; }
    .package.selected { border-color: #e60000; background: #fff0f0; }
    .coin { font-size: 24px; font-weight: bold; display: inline-flex; align-items: center; font-variant-numeric: tabular-nums; }
    .coin img { width: 28px; margin-right: 4px; }
    .price { font-size: 16px; color: #666; margin-top: 8px; }

    /* TikTok ID */
    .tiktok-id { margin-top: 25px; text-align: left; }
    .tiktok-id label { display: block; margin-bottom: 8px; font-weight: bold; }
    .tiktok-id input { width: 100%; padding: 12px; font-size: 16px; border-radius: 6px; border: 1px solid #ccc; }

    /* Pay button */
    .btn { margin-top: 10px; background-color: #e60000; color: white; padding: 16px; border: none; border-radius: 6px; font-size: 18px; cursor: pointer; width: 100%; }

    /* Spinner */
    .spinner { display: none; margin: 20px auto; border: 4px solid #f3f3f3; border-top: 4px solid #e60000; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    /* Popup modal */
    .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); }
    .modal-content { background: #fff; margin: 10% auto; padding: 20px; border-radius: 10px; width: 320px; text-align: center; position: relative; animation: fadeIn 0.3s ease; }
    .close-btn { position: absolute; top: 8px; right: 10px; font-size: 20px; cursor: pointer; color: #666; }
    .close-btn:hover { color: #000; }
    @keyframes fadeIn { from { opacity: 0; transform: scale(0.9);} to { opacity: 1; transform: scale(1);} }

    /* Payment methods */
    .payment-options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; }
    .payment-option { border: 1px solid #ccc; border-radius: 8px; padding: 10px; cursor: pointer; transition: 0.2s; }
    .payment-option:hover { border-color: #e60000; background: #fff0f0; }
    .payment-option img { height: 40px; }

    .modal-content button { margin: 10px 5px; padding: 10px 16px; border: none; border-radius: 6px; cursor: pointer; }
    .modal-content button:first-of-type { background: #e60000; color: #fff; }
    .modal-content button:last-of-type { background: #ccc; }
  </style>
</head>
<body>

  <div class="container">
    <img class="logo" src="https://inuvdp.com/wp-content/uploads/2022/08/tiktok-02.jpg">
    <div class="divider"></div>
    <h1>Get Coins</h1>

    <!-- Packages -->
    <div class="package-list">
      <div class="package" data-coins="70" data-price="0.99"><div class="coin"><img src="https://cdn.unipin.com/images/icon_product_pages/1749042852-icon-Tiktok.png">70</div><div class="price">$0.99</div></div>
      <div class="package" data-coins="350" data-price="4.99"><div class="coin"><img src="https://cdn.unipin.com/images/icon_product_pages/1749042852-icon-Tiktok.png">350</div><div class="price">$4.99</div></div>
      <div class="package" data-coins="700" data-price="6.99"><div class="coin"><img src="https://cdn.unipin.com/images/icon_product_pages/1749042852-icon-Tiktok.png">700</div><div class="price">$6.99</div></div>
    </div>

    <!-- TikTok ID -->
    <div class="tiktok-id">
      <label for="tiktokId">Enter your TikTok ID:</label>
      <input type="text" placeholder="e.g. @username" id="tiktokId">
    </div>

    <!-- Pay button -->
    <button class="btn" onclick="openPaymentOptions()">Pay Now</button>
    <div class="spinner" id="spinner"></div>
  </div>

  <!-- Modal chọn phương thức -->
  <div id="paymentModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closePaymentOptions()">×</span>
      <h2>Select Payment Method</h2>
      <div class="payment-options">
        <div class="payment-option" onclick="selectMethod('Visa')"><img src="https://download.logo.wine/logo/Visa_Inc./Visa_Inc.-Logo.wine.png"></div>
        <div class="payment-option" onclick="selectMethod('PayPal')"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/PayPal_Logo_Icon_2014.svg/1664px-PayPal_Logo_Icon_2014.svg.png"></div>
        <div class="payment-option" onclick="selectMethod('Apple Pay')"><img src="https://www.logo.wine/a/logo/Apple_Pay/Apple_Pay-Logo.wine.svg"></div>
        <div class="payment-option" onclick="selectMethod('VNPAY QR')"><img src="https://cdn.haitrieu.com/wp-content/uploads/2022/10/Icon-VNPAY-QR.png"></div>
      </div>
      <div id="confirmSection" style="display:none;">
        <p>Card: **** 578</p>
        <p id="confirmCoins">Coins: -</p>
        <p id="confirmAmount">Amount: -</p>
        <button onclick="confirmPayment()">Confirm Payment</button>
      </div>
    </div>
  </div>

  <!-- Modal thành công -->
  <div id="successModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeSuccess()">×</span>
      <h2>Đã thanh toán hoàn tất ✅</h2>
      <p id="successText"></p>
      <p>Vui lòng kiểm tra số xu trên tài khoản TikTok.</p>
    </div>
  </div>

  <script>
    const packages = document.querySelectorAll('.package');
    let selectedPackage = null;

    packages.forEach(pkg => {
      pkg.addEventListener('click', () => {
        packages.forEach(p => p.classList.remove('selected'));
        pkg.classList.add('selected');
        selectedPackage = pkg.dataset;
      });
    });

    function openPaymentOptions() {
      if (!selectedPackage) { alert("Please select a coin package."); return; }
      const tiktokId = document.getElementById('tiktokId').value;
      if (!tiktokId) { alert("Please enter your TikTok ID."); return; }
      document.getElementById('paymentModal').style.display = "block";
      document.getElementById('confirmSection').style.display = "none";
    }

    function closePaymentOptions() {
      document.getElementById('paymentModal').style.display = "none";
    }

    function selectMethod(method) {
      const coins = selectedPackage.coins;
      const price = selectedPackage.price;
      document.getElementById('confirmCoins').textContent = "Coins: " + coins;
      document.getElementById('confirmAmount').textContent = "Amount: $" + price;
      document.getElementById('confirmSection').style.display = "block";
    }

    function confirmPayment() {
      closePaymentOptions();
      const spinner = document.getElementById('spinner');
      spinner.style.display = 'block';
      setTimeout(() => {
        spinner.style.display = 'none';
        document.getElementById('successText').textContent = `Bạn đã nạp thành công ${selectedPackage.coins} xu.`;
        document.getElementById('successModal').style.display = "block";
      }, 2000);
    }

    function closeSuccess() {
      document.getElementById('successModal').style.display = "none";
    }
  </script>
</body>
</html>
